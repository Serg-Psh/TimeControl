<HTML>
<HEAD>
<meta name=vs_targetSchema content="HTML 4.0">
<meta name=vs_defaultClientScript content="JavaScript">
<TITLE></TITLE>
<META NAME="GENERATOR" Content="Microsoft Visual Studio">
<META HTTP-EQUIV="Content-Type" content="text/html; charset=Windows-1251">
<STYLE>
TABLE {
	border-collapce: collapce;
/*	border: 1 solid green;
	width: 100%;*/
}
TD { padding: 1mm, 2mm; }
#sample { background-color: lightsteelblue; }
#answer { width: 4em; }
.ok		{ color: green; }
.wrong	{ color: red; }
</STYLE>
<script>
var operator1, operator2, operand, result, total = wrongs = 0;

function swap(n,m){var t=m;m=n;n=t}

function rnd(min, max) {
	if (min == max) return min;
	if (min > max) swap(min,max);
	return min + Math.round(Math.random() * (max - min));
}

function newRow(ans) {
	var rc = tbl.rows;
	total++;
	for (var i=0; i < rc.length-1; i++) {
		for (var j=0; j < rc(i).cells.length; j++) {
			rc(i).cells(j).innerHTML = rc(i+1).cells(j).innerHTML;
		}
	}
	rc(i).cells(0).innerHTML = total + ")";
	rc(i).cells(1).innerHTML = operator1 + operand + operator2 + " = " + ans;
	rc(i).cells(2).innerHTML = "<span class='" + ((result == ans) ? "ok" : "wrong") + "'>( " + result + " )</span>";
	if (result != ans) wrongs++;
	//per.innerText = (total - wrongs) + " - " + wrongs;
	per.innerText = Math.round(100 * (total - wrongs) / total) + " %";
	newSample();
}

function newSample() {
	switch (rnd(1,4)) {
		case 1:
				operand = " * ";
				operator1 = rnd(0,10);
				operator2 = rnd(0,10);
				result = operator1 * operator2;
				break;
		case 2:
				operand = " + ";
				result  = rnd(0,99);
				operator2 = rnd(0,result);
				operator1 = result - operator2;
				break;
		case 3:
				operand = " - ";
				result  = rnd(0,99);
				operator2 = rnd(0,99);
				operator1 = result + operator2;
				break;
		case 4:
				operand = " : ";
				result  = rnd(0,10);
				operator2 = rnd(1,10);
				operator1 = result * operator2;
				break;
	}
	sample.innerText = operator1 + operand + operator2 + " = ";
}
</script>
</HEAD>
<BODY onload="newSample()">

<table id="tbl">
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
  <tr><td></td><td></td><td></td></tr>
</table>
<table>
  <tr><td></td><td>
<label id="sample"></label>
<input id="answer" type="text" maxlength="4" onkeyup="if (window.event.keyCode == 13) { newRow(this.value); this.value = ''; }">
</td><td id="per"></td></tr>
</table>
</BODY>
</HTML>
